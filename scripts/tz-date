#!/usr/bin/env bash

# Usage:
#   mydate [-t timezone] [-f format]
# Examples:
#   mydate
#   mydate -t Asia/Tokyo
#   mydate -f "+%Y-%m-%d %H:%M:%S"
#   mydate -t Asia/Tokyo -f "+%Y-%m-%d %H:%M:%S"

TIMEZONE=""
FORMAT=""

while [[ $# -gt 0 ]]; do
    case "$1" in
        -t)
            TIMEZONE="$2"
            shift 2
            ;;
        -f)
            FORMAT="$2"
            shift 2
            ;;
        *)
            echo "Unknown option: $1"
            echo "Usage: $0 [-t timezone] [-f format]"
            exit 1
            ;;
    esac
done

if [[ -z "$TIMEZONE" && -z "$FORMAT" ]]; then
    # No flags provided â†’ default system date
    date
elif [[ -z "$TIMEZONE" ]]; then
    # Only format provided
    date "$FORMAT"
elif [[ -z "$FORMAT" ]]; then
    # Only timezone provided
    TZ="$TIMEZONE" date
else
    # Both provided
    TZ="$TIMEZONE" date "$FORMAT"
fi

